# Postprocessing: Data Cleaning and Transformation

## Input Postprocessing
- The input data is sourced from 1 file: `Merged Models.txt`. This file was generated in the match and merge phase and now function as input for the postprocessing phase.

## Main Script
The Python script utilizes specific functions to eliminate prefixes and suffixes, subsequently segregating all combined fragments. This separation reconstructs distinct topic, indicator, and question fragments again.

### 1. `remove_and_add_text_values` Function

This function processes a text file, removing specific lines, and adding new lines based on predefined criteria. It also calls another function to add quotes to certain values.

#### Operations:

1. **Remove Lines:** Eliminates lines starting with the prefix "indicator_Order_."

2. **Add New Attributes:** Introduces new lines with the format "indicator_Order_{number}:{number}" for lines starting with "indicator_Text_." The order is maintained.

3. **Call Another Function:** Invokes `add_pre_and_postunit_quotes` to enclose values following "PreUnit:" and "PostUnit:" in double quotes.

### 2. `add_pre_and_postunit_quotes` Function

This function adds double quotes around values following "PreUnit:" and "PostUnit:" in a given text file.

### 3. `Section` Class

A class representing a section of lines with methods to remove prefixes and process lines.

### 4. Section `Processing and Sorting`

This section of the code processes the output generated by `remove_and_add_text_values`. It organizes unique sections into categories and writes the sorted sections back to the same file.

### 5. `remove_order_and_text_suffix` Function

This function uses regular expressions to replace "Order_" and "Text_" with "Order:" and "Text:" in a given text file.

### 6. `add_merged_introduction` Function

This function reads content from two input files, extracts information, creates a merged introduction, and adds extra lines. It also checks for the existence of an output file, appends new content, and writes the result.


## Output Postprocessing
- Eliminate prefixes "topic", "indicator", and "question" of all attributes.
- Split merged data into seperated Topic, Indicator and Question fragments 
- Output is saved in `Final merged model.txt`, which can be found in the Postprocessing folder
- This output text file model stands prepared to be parsed, interpreted, and ultimately uploaded into
the OpenESEA framework, where users can seamlessly fill in the merged model

#### Example Usage

```python
# Example usage:
file_path = "/Users/Documents/Main/Postprocessing/Merged_models.txt"
output_file_path = "/Users/Documents/Main/Postprocessing/Final_Merged_Model.txt"
remove_and_add_text_values(file_path, output_file_path)
